This script access the `density_grid` of a Blender smoke simulation and replaces voxels with lego bricks using convolution to filter, which brick is placed where.

[![slopes][13]][13]![example][14]

[High resolution example](https://i.imgur.com/FY1vi8i.mp4)

[![another angle][15]][15]

The method is explained in [this stackexchange answer](https://blender.stackexchange.com/a/155753/30849).

  [13]: https://i.stack.imgur.com/xYqc9.png
  [14]: https://i.stack.imgur.com/ANRlO.gif
  [15]: https://i.stack.imgur.com/7vTw2.jpg